{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar HoverController_1;\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { GotoDefinitionAtPositionEditorContribution } from '../../gotoSymbol/browser/link/goToDefinitionAtPosition.js';\nimport { ContentHoverWidget, ContentHoverController } from './contentHover.js';\nimport { MarginHoverWidget } from './marginHover.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { editorHoverBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { HoverParticipantRegistry } from './hoverTypes.js';\nimport { MarkdownHoverParticipant } from './markdownHoverParticipant.js';\nimport { MarkerHoverParticipant } from './markerHoverParticipant.js';\nimport { InlineSuggestionHintsContentWidget } from '../../inlineCompletions/browser/inlineCompletionsHintsWidget.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport * as nls from '../../../../nls.js';\nimport './hover.css';\n// sticky hover widget which doesn't disappear on focus out and such\nconst _sticky = false;\nlet HoverController = HoverController_1 = class HoverController extends Disposable {\n  constructor(_editor, _instantiationService, _openerService, _languageService, _keybindingService) {\n    super();\n    this._editor = _editor;\n    this._instantiationService = _instantiationService;\n    this._openerService = _openerService;\n    this._languageService = _languageService;\n    this._keybindingService = _keybindingService;\n    this._listenersStore = new DisposableStore();\n    this._hoverState = {\n      mouseDown: false,\n      contentHoverFocused: false,\n      activatedByDecoratorClick: false\n    };\n    this._reactToEditorMouseMoveRunner = this._register(new RunOnceScheduler(() => this._reactToEditorMouseMove(this._mouseMoveEvent), 0));\n    this._hookListeners();\n    this._register(this._editor.onDidChangeConfiguration(e => {\n      if (e.hasChanged(60 /* EditorOption.hover */)) {\n        this._unhookListeners();\n        this._hookListeners();\n      }\n    }));\n  }\n  static get(editor) {\n    return editor.getContribution(HoverController_1.ID);\n  }\n  _hookListeners() {\n    const hoverOpts = this._editor.getOption(60 /* EditorOption.hover */);\n    this._hoverSettings = {\n      enabled: hoverOpts.enabled,\n      sticky: hoverOpts.sticky,\n      hidingDelay: hoverOpts.delay\n    };\n    if (hoverOpts.enabled) {\n      this._listenersStore.add(this._editor.onMouseDown(e => this._onEditorMouseDown(e)));\n      this._listenersStore.add(this._editor.onMouseUp(() => this._onEditorMouseUp()));\n      this._listenersStore.add(this._editor.onMouseMove(e => this._onEditorMouseMove(e)));\n      this._listenersStore.add(this._editor.onKeyDown(e => this._onKeyDown(e)));\n    } else {\n      this._listenersStore.add(this._editor.onMouseMove(e => this._onEditorMouseMove(e)));\n      this._listenersStore.add(this._editor.onKeyDown(e => this._onKeyDown(e)));\n    }\n    this._listenersStore.add(this._editor.onMouseLeave(e => this._onEditorMouseLeave(e)));\n    this._listenersStore.add(this._editor.onDidChangeModel(() => {\n      this._cancelScheduler();\n      this._hideWidgets();\n    }));\n    this._listenersStore.add(this._editor.onDidChangeModelContent(() => this._cancelScheduler()));\n    this._listenersStore.add(this._editor.onDidScrollChange(e => this._onEditorScrollChanged(e)));\n  }\n  _unhookListeners() {\n    this._listenersStore.clear();\n  }\n  _cancelScheduler() {\n    this._mouseMoveEvent = undefined;\n    this._reactToEditorMouseMoveRunner.cancel();\n  }\n  _onEditorScrollChanged(e) {\n    if (e.scrollTopChanged || e.scrollLeftChanged) {\n      this._hideWidgets();\n    }\n  }\n  _onEditorMouseDown(mouseEvent) {\n    var _a;\n    this._hoverState.mouseDown = true;\n    const target = mouseEvent.target;\n    if (target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID) {\n      // mouse down on top of content hover widget\n      this._hoverState.contentHoverFocused = true;\n      return;\n    }\n    if (target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID) {\n      // mouse down on top of margin hover widget\n      return;\n    }\n    if (target.type !== 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n      this._hoverState.contentHoverFocused = false;\n    }\n    if ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) {\n      return;\n    }\n    this._hideWidgets();\n  }\n  _onEditorMouseUp() {\n    this._hoverState.mouseDown = false;\n  }\n  _onEditorMouseLeave(mouseEvent) {\n    var _a, _b;\n    this._cancelScheduler();\n    const targetElement = mouseEvent.event.browserEvent.relatedTarget;\n    if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.containsNode(targetElement))) {\n      // When the content widget is resizing\n      // When the mouse is inside hover widget\n      return;\n    }\n    if (_sticky) {\n      return;\n    }\n    this._hideWidgets();\n  }\n  _isMouseOverWidget(mouseEvent) {\n    var _a, _b, _c, _d, _e;\n    const target = mouseEvent.target;\n    const sticky = this._hoverSettings.sticky;\n    if (sticky && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID) {\n      // mouse moved on top of content hover widget\n      return true;\n    }\n    if (sticky && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.containsNode((_b = mouseEvent.event.browserEvent.view) === null || _b === void 0 ? void 0 : _b.document.activeElement)) && !((_d = (_c = mouseEvent.event.browserEvent.view) === null || _c === void 0 ? void 0 : _c.getSelection()) === null || _d === void 0 ? void 0 : _d.isCollapsed)) {\n      // selected text within content hover widget\n      return true;\n    }\n    if (!sticky && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID && ((_e = this._contentWidget) === null || _e === void 0 ? void 0 : _e.isColorPickerVisible)) {\n      // though the hover is not sticky, the color picker is sticky\n      return true;\n    }\n    if (sticky && target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID) {\n      // mouse moved on top of overlay hover widget\n      return true;\n    }\n    return false;\n  }\n  _onEditorMouseMove(mouseEvent) {\n    var _a, _b, _c, _d;\n    this._mouseMoveEvent = mouseEvent;\n    if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isFocused) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.isResizing)) {\n      return;\n    }\n    if (this._hoverState.mouseDown && this._hoverState.contentHoverFocused) {\n      return;\n    }\n    const sticky = this._hoverSettings.sticky;\n    if (sticky && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isVisibleFromKeyboard)) {\n      // Sticky mode is on and the hover has been shown via keyboard\n      // so moving the mouse has no effect\n      return;\n    }\n    const mouseIsOverWidget = this._isMouseOverWidget(mouseEvent);\n    // If the mouse is over the widget and the hiding timeout is defined, then cancel it\n    if (mouseIsOverWidget) {\n      this._reactToEditorMouseMoveRunner.cancel();\n      return;\n    }\n    // If the mouse is not over the widget, and if sticky is on,\n    // then give it a grace period before reacting to the mouse event\n    const hidingDelay = this._hoverSettings.hidingDelay;\n    if (((_d = this._contentWidget) === null || _d === void 0 ? void 0 : _d.isVisible) && sticky && hidingDelay > 0) {\n      if (!this._reactToEditorMouseMoveRunner.isScheduled()) {\n        this._reactToEditorMouseMoveRunner.schedule(hidingDelay);\n      }\n      return;\n    }\n    this._reactToEditorMouseMove(mouseEvent);\n  }\n  _reactToEditorMouseMove(mouseEvent) {\n    var _a, _b, _c, _d;\n    if (!mouseEvent) {\n      return;\n    }\n    const target = mouseEvent.target;\n    const mouseOnDecorator = (_a = target.element) === null || _a === void 0 ? void 0 : _a.classList.contains('colorpicker-color-decoration');\n    const decoratorActivatedOn = this._editor.getOption(146 /* EditorOption.colorDecoratorsActivatedOn */);\n    const enabled = this._hoverSettings.enabled;\n    const activatedByDecoratorClick = this._hoverState.activatedByDecoratorClick;\n    if (mouseOnDecorator && (decoratorActivatedOn === 'click' && !activatedByDecoratorClick || decoratorActivatedOn === 'hover' && !enabled && !_sticky || decoratorActivatedOn === 'clickAndHover' && !enabled && !activatedByDecoratorClick) || !mouseOnDecorator && !enabled && !activatedByDecoratorClick) {\n      this._hideWidgets();\n      return;\n    }\n    const contentWidget = this._getOrCreateContentWidget();\n    if (contentWidget.showsOrWillShow(mouseEvent)) {\n      (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n      return;\n    }\n    if (target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ && target.position && target.detail.glyphMarginLane) {\n      (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n      const glyphWidget = this._getOrCreateGlyphWidget();\n      glyphWidget.startShowingAt(target.position.lineNumber, target.detail.glyphMarginLane);\n      return;\n    }\n    if (target.type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */ && target.position) {\n      (_d = this._contentWidget) === null || _d === void 0 ? void 0 : _d.hide();\n      const glyphWidget = this._getOrCreateGlyphWidget();\n      glyphWidget.startShowingAt(target.position.lineNumber, 'lineNo');\n      return;\n    }\n    if (_sticky) {\n      return;\n    }\n    this._hideWidgets();\n  }\n  _onKeyDown(e) {\n    var _a;\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    const resolvedKeyboardEvent = this._keybindingService.softDispatch(e, this._editor.getDomNode());\n    // If the beginning of a multi-chord keybinding is pressed,\n    // or the command aims to focus the hover,\n    // set the variable to true, otherwise false\n    const mightTriggerFocus = resolvedKeyboardEvent.kind === 1 /* ResultKind.MoreChordsNeeded */ || resolvedKeyboardEvent.kind === 2 /* ResultKind.KbFound */ && resolvedKeyboardEvent.commandId === 'editor.action.showHover' && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible);\n    if (e.keyCode === 5 /* KeyCode.Ctrl */ || e.keyCode === 6 /* KeyCode.Alt */ || e.keyCode === 57 /* KeyCode.Meta */ || e.keyCode === 4 /* KeyCode.Shift */ || mightTriggerFocus) {\n      // Do not hide hover when a modifier key is pressed\n      return;\n    }\n    this._hideWidgets();\n  }\n  _hideWidgets() {\n    var _a, _b, _c;\n    if (_sticky) {\n      return;\n    }\n    if (this._hoverState.mouseDown && this._hoverState.contentHoverFocused && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible) || InlineSuggestionHintsContentWidget.dropDownVisible) {\n      return;\n    }\n    this._hoverState.activatedByDecoratorClick = false;\n    this._hoverState.contentHoverFocused = false;\n    (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n    (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n  }\n  _getOrCreateContentWidget() {\n    if (!this._contentWidget) {\n      this._contentWidget = this._instantiationService.createInstance(ContentHoverController, this._editor);\n    }\n    return this._contentWidget;\n  }\n  _getOrCreateGlyphWidget() {\n    if (!this._glyphWidget) {\n      this._glyphWidget = new MarginHoverWidget(this._editor, this._languageService, this._openerService);\n    }\n    return this._glyphWidget;\n  }\n  showContentHover(range, mode, source, focus, activatedByColorDecoratorClick = false) {\n    this._hoverState.activatedByDecoratorClick = activatedByColorDecoratorClick;\n    this._getOrCreateContentWidget().startShowingAtRange(range, mode, source, focus);\n  }\n  focus() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.focus();\n  }\n  scrollUp() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollUp();\n  }\n  scrollDown() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollDown();\n  }\n  scrollLeft() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollLeft();\n  }\n  scrollRight() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollRight();\n  }\n  pageUp() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageUp();\n  }\n  pageDown() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageDown();\n  }\n  goToTop() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToTop();\n  }\n  goToBottom() {\n    var _a;\n    (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToBottom();\n  }\n  get isColorPickerVisible() {\n    var _a;\n    return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n  }\n  get isHoverVisible() {\n    var _a;\n    return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible;\n  }\n  dispose() {\n    var _a, _b;\n    super.dispose();\n    this._unhookListeners();\n    this._listenersStore.dispose();\n    (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n    (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\n  }\n};\nHoverController.ID = 'editor.contrib.hover';\nHoverController = HoverController_1 = __decorate([__param(1, IInstantiationService), __param(2, IOpenerService), __param(3, ILanguageService), __param(4, IKeybindingService)], HoverController);\nexport { HoverController };\nvar HoverFocusBehavior;\n(function (HoverFocusBehavior) {\n  HoverFocusBehavior[\"NoAutoFocus\"] = \"noAutoFocus\";\n  HoverFocusBehavior[\"FocusIfVisible\"] = \"focusIfVisible\";\n  HoverFocusBehavior[\"AutoFocusImmediately\"] = \"autoFocusImmediately\";\n})(HoverFocusBehavior || (HoverFocusBehavior = {}));\nclass ShowOrFocusHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.showHover',\n      label: nls.localize({\n        key: 'showOrFocusHover',\n        comment: ['Label for action that will trigger the showing/focusing of a hover in the editor.', 'If the hover is not visible, it will show the hover.', 'This allows for users to show the hover without using the mouse.']\n      }, \"Show or Focus Hover\"),\n      metadata: {\n        description: `Show or Focus Hover`,\n        args: [{\n          name: 'args',\n          schema: {\n            type: 'object',\n            properties: {\n              'focus': {\n                description: 'Controls if and when the hover should take focus upon being triggered by this action.',\n                enum: [HoverFocusBehavior.NoAutoFocus, HoverFocusBehavior.FocusIfVisible, HoverFocusBehavior.AutoFocusImmediately],\n                enumDescriptions: [nls.localize('showOrFocusHover.focus.noAutoFocus', 'The hover will not automatically take focus.'), nls.localize('showOrFocusHover.focus.focusIfVisible', 'The hover will take focus only if it is already visible.'), nls.localize('showOrFocusHover.focus.autoFocusImmediately', 'The hover will automatically take focus when it appears.')],\n                default: HoverFocusBehavior.FocusIfVisible\n              }\n            }\n          }\n        }]\n      },\n      alias: 'Show or Focus Hover',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 39 /* KeyCode.KeyI */),\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor, args) {\n    if (!editor.hasModel()) {\n      return;\n    }\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    const focusArgument = args === null || args === void 0 ? void 0 : args.focus;\n    let focusOption = HoverFocusBehavior.FocusIfVisible;\n    if (Object.values(HoverFocusBehavior).includes(focusArgument)) {\n      focusOption = focusArgument;\n    } else if (typeof focusArgument === 'boolean' && focusArgument) {\n      focusOption = HoverFocusBehavior.AutoFocusImmediately;\n    }\n    const showContentHover = focus => {\n      const position = editor.getPosition();\n      const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n      controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, focus);\n    };\n    const accessibilitySupportEnabled = editor.getOption(2 /* EditorOption.accessibilitySupport */) === 2 /* AccessibilitySupport.Enabled */;\n    if (controller.isHoverVisible) {\n      if (focusOption !== HoverFocusBehavior.NoAutoFocus) {\n        controller.focus();\n      } else {\n        showContentHover(accessibilitySupportEnabled);\n      }\n    } else {\n      showContentHover(accessibilitySupportEnabled || focusOption === HoverFocusBehavior.AutoFocusImmediately);\n    }\n  }\n}\nclass ShowDefinitionPreviewHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.showDefinitionPreviewHover',\n      label: nls.localize({\n        key: 'showDefinitionPreviewHover',\n        comment: ['Label for action that will trigger the showing of definition preview hover in the editor.', 'This allows for users to show the definition preview hover without using the mouse.']\n      }, \"Show Definition Preview Hover\"),\n      alias: 'Show Definition Preview Hover',\n      precondition: undefined\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    const position = editor.getPosition();\n    if (!position) {\n      return;\n    }\n    const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n    const goto = GotoDefinitionAtPositionEditorContribution.get(editor);\n    if (!goto) {\n      return;\n    }\n    const promise = goto.startFindDefinitionFromCursor(position);\n    promise.then(() => {\n      controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, true);\n    });\n  }\n}\nclass ScrollUpHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.scrollUpHover',\n      label: nls.localize({\n        key: 'scrollUpHover',\n        comment: ['Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused.']\n      }, \"Scroll Up Hover\"),\n      alias: 'Scroll Up Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 16 /* KeyCode.UpArrow */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.scrollUp();\n  }\n}\nclass ScrollDownHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.scrollDownHover',\n      label: nls.localize({\n        key: 'scrollDownHover',\n        comment: ['Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused.']\n      }, \"Scroll Down Hover\"),\n      alias: 'Scroll Down Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 18 /* KeyCode.DownArrow */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.scrollDown();\n  }\n}\nclass ScrollLeftHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.scrollLeftHover',\n      label: nls.localize({\n        key: 'scrollLeftHover',\n        comment: ['Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused.']\n      }, \"Scroll Left Hover\"),\n      alias: 'Scroll Left Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 15 /* KeyCode.LeftArrow */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.scrollLeft();\n  }\n}\nclass ScrollRightHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.scrollRightHover',\n      label: nls.localize({\n        key: 'scrollRightHover',\n        comment: ['Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused.']\n      }, \"Scroll Right Hover\"),\n      alias: 'Scroll Right Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 17 /* KeyCode.RightArrow */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.scrollRight();\n  }\n}\nclass PageUpHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.pageUpHover',\n      label: nls.localize({\n        key: 'pageUpHover',\n        comment: ['Action that allows to page up in the hover widget with the page up command when the hover widget is focused.']\n      }, \"Page Up Hover\"),\n      alias: 'Page Up Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 11 /* KeyCode.PageUp */,\n        secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.pageUp();\n  }\n}\nclass PageDownHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.pageDownHover',\n      label: nls.localize({\n        key: 'pageDownHover',\n        comment: ['Action that allows to page down in the hover widget with the page down command when the hover widget is focused.']\n      }, \"Page Down Hover\"),\n      alias: 'Page Down Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 12 /* KeyCode.PageDown */,\n        secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.pageDown();\n  }\n}\nclass GoToTopHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.goToTopHover',\n      label: nls.localize({\n        key: 'goToTopHover',\n        comment: ['Action that allows to go to the top of the hover widget with the home command when the hover widget is focused.']\n      }, \"Go To Top Hover\"),\n      alias: 'Go To Bottom Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 14 /* KeyCode.Home */,\n        secondary: [2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.goToTop();\n  }\n}\nclass GoToBottomHoverAction extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.goToBottomHover',\n      label: nls.localize({\n        key: 'goToBottomHover',\n        comment: ['Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused.']\n      }, \"Go To Bottom Hover\"),\n      alias: 'Go To Bottom Hover',\n      precondition: EditorContextKeys.hoverFocused,\n      kbOpts: {\n        kbExpr: EditorContextKeys.hoverFocused,\n        primary: 13 /* KeyCode.End */,\n        secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    const controller = HoverController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.goToBottom();\n  }\n}\nregisterEditorContribution(HoverController.ID, HoverController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(ShowOrFocusHoverAction);\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\nregisterEditorAction(ScrollUpHoverAction);\nregisterEditorAction(ScrollDownHoverAction);\nregisterEditorAction(ScrollLeftHoverAction);\nregisterEditorAction(ScrollRightHoverAction);\nregisterEditorAction(PageUpHoverAction);\nregisterEditorAction(PageDownHoverAction);\nregisterEditorAction(GoToTopHoverAction);\nregisterEditorAction(GoToBottomHoverAction);\nHoverParticipantRegistry.register(MarkdownHoverParticipant);\nHoverParticipantRegistry.register(MarkerHoverParticipant);\n// theming\nregisterThemingParticipant((theme, collector) => {\n  const hoverBorder = theme.getColor(editorHoverBorder);\n  if (hoverBorder) {\n    collector.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n    collector.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n    collector.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${hoverBorder.transparent(0.5)}; }`);\n  }\n});","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","HoverController_1","KeyChord","Disposable","DisposableStore","EditorAction","registerEditorAction","registerEditorContribution","Range","EditorContextKeys","ILanguageService","GotoDefinitionAtPositionEditorContribution","ContentHoverWidget","ContentHoverController","MarginHoverWidget","IInstantiationService","IOpenerService","editorHoverBorder","registerThemingParticipant","HoverParticipantRegistry","MarkdownHoverParticipant","MarkerHoverParticipant","InlineSuggestionHintsContentWidget","IKeybindingService","RunOnceScheduler","nls","_sticky","HoverController","constructor","_editor","_instantiationService","_openerService","_languageService","_keybindingService","_listenersStore","_hoverState","mouseDown","contentHoverFocused","activatedByDecoratorClick","_reactToEditorMouseMoveRunner","_register","_reactToEditorMouseMove","_mouseMoveEvent","_hookListeners","onDidChangeConfiguration","e","hasChanged","_unhookListeners","get","editor","getContribution","ID","hoverOpts","getOption","_hoverSettings","enabled","sticky","hidingDelay","delay","add","onMouseDown","_onEditorMouseDown","onMouseUp","_onEditorMouseUp","onMouseMove","_onEditorMouseMove","onKeyDown","_onKeyDown","onMouseLeave","_onEditorMouseLeave","onDidChangeModel","_cancelScheduler","_hideWidgets","onDidChangeModelContent","onDidScrollChange","_onEditorScrollChanged","clear","undefined","cancel","scrollTopChanged","scrollLeftChanged","mouseEvent","_a","type","detail","_contentWidget","widget","isResizing","_b","targetElement","event","browserEvent","relatedTarget","containsNode","_isMouseOverWidget","_c","_d","_e","view","document","activeElement","getSelection","isCollapsed","isColorPickerVisible","isFocused","isVisibleFromKeyboard","mouseIsOverWidget","isVisible","isScheduled","schedule","mouseOnDecorator","element","classList","contains","decoratorActivatedOn","contentWidget","_getOrCreateContentWidget","showsOrWillShow","_glyphWidget","hide","position","glyphMarginLane","glyphWidget","_getOrCreateGlyphWidget","startShowingAt","lineNumber","hasModel","resolvedKeyboardEvent","softDispatch","getDomNode","mightTriggerFocus","kind","commandId","keyCode","dropDownVisible","createInstance","showContentHover","range","mode","source","focus","activatedByColorDecoratorClick","startShowingAtRange","scrollUp","scrollDown","scrollLeft","scrollRight","pageUp","pageDown","goToTop","goToBottom","isHoverVisible","dispose","HoverFocusBehavior","ShowOrFocusHoverAction","id","label","localize","comment","metadata","description","args","name","schema","properties","enum","NoAutoFocus","FocusIfVisible","AutoFocusImmediately","enumDescriptions","default","alias","precondition","kbOpts","kbExpr","editorTextFocus","primary","weight","run","accessor","controller","focusArgument","focusOption","values","includes","getPosition","column","accessibilitySupportEnabled","ShowDefinitionPreviewHoverAction","goto","promise","startFindDefinitionFromCursor","then","ScrollUpHoverAction","hoverFocused","ScrollDownHoverAction","ScrollLeftHoverAction","ScrollRightHoverAction","PageUpHoverAction","secondary","PageDownHoverAction","GoToTopHoverAction","GoToBottomHoverAction","register","theme","collector","hoverBorder","getColor","addRule","transparent"],"sources":["D:/PersonalFiles/yupi/OJSystem/OJSystem/feioj-front/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hover.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar HoverController_1;\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { GotoDefinitionAtPositionEditorContribution } from '../../gotoSymbol/browser/link/goToDefinitionAtPosition.js';\nimport { ContentHoverWidget, ContentHoverController } from './contentHover.js';\nimport { MarginHoverWidget } from './marginHover.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { editorHoverBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { HoverParticipantRegistry } from './hoverTypes.js';\nimport { MarkdownHoverParticipant } from './markdownHoverParticipant.js';\nimport { MarkerHoverParticipant } from './markerHoverParticipant.js';\nimport { InlineSuggestionHintsContentWidget } from '../../inlineCompletions/browser/inlineCompletionsHintsWidget.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport * as nls from '../../../../nls.js';\nimport './hover.css';\n// sticky hover widget which doesn't disappear on focus out and such\nconst _sticky = false;\nlet HoverController = HoverController_1 = class HoverController extends Disposable {\n    constructor(_editor, _instantiationService, _openerService, _languageService, _keybindingService) {\n        super();\n        this._editor = _editor;\n        this._instantiationService = _instantiationService;\n        this._openerService = _openerService;\n        this._languageService = _languageService;\n        this._keybindingService = _keybindingService;\n        this._listenersStore = new DisposableStore();\n        this._hoverState = {\n            mouseDown: false,\n            contentHoverFocused: false,\n            activatedByDecoratorClick: false\n        };\n        this._reactToEditorMouseMoveRunner = this._register(new RunOnceScheduler(() => this._reactToEditorMouseMove(this._mouseMoveEvent), 0));\n        this._hookListeners();\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(60 /* EditorOption.hover */)) {\n                this._unhookListeners();\n                this._hookListeners();\n            }\n        }));\n    }\n    static get(editor) {\n        return editor.getContribution(HoverController_1.ID);\n    }\n    _hookListeners() {\n        const hoverOpts = this._editor.getOption(60 /* EditorOption.hover */);\n        this._hoverSettings = {\n            enabled: hoverOpts.enabled,\n            sticky: hoverOpts.sticky,\n            hidingDelay: hoverOpts.delay\n        };\n        if (hoverOpts.enabled) {\n            this._listenersStore.add(this._editor.onMouseDown((e) => this._onEditorMouseDown(e)));\n            this._listenersStore.add(this._editor.onMouseUp(() => this._onEditorMouseUp()));\n            this._listenersStore.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\n            this._listenersStore.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\n        }\n        else {\n            this._listenersStore.add(this._editor.onMouseMove((e) => this._onEditorMouseMove(e)));\n            this._listenersStore.add(this._editor.onKeyDown((e) => this._onKeyDown(e)));\n        }\n        this._listenersStore.add(this._editor.onMouseLeave((e) => this._onEditorMouseLeave(e)));\n        this._listenersStore.add(this._editor.onDidChangeModel(() => {\n            this._cancelScheduler();\n            this._hideWidgets();\n        }));\n        this._listenersStore.add(this._editor.onDidChangeModelContent(() => this._cancelScheduler()));\n        this._listenersStore.add(this._editor.onDidScrollChange((e) => this._onEditorScrollChanged(e)));\n    }\n    _unhookListeners() {\n        this._listenersStore.clear();\n    }\n    _cancelScheduler() {\n        this._mouseMoveEvent = undefined;\n        this._reactToEditorMouseMoveRunner.cancel();\n    }\n    _onEditorScrollChanged(e) {\n        if (e.scrollTopChanged || e.scrollLeftChanged) {\n            this._hideWidgets();\n        }\n    }\n    _onEditorMouseDown(mouseEvent) {\n        var _a;\n        this._hoverState.mouseDown = true;\n        const target = mouseEvent.target;\n        if (target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && target.detail === ContentHoverWidget.ID) {\n            // mouse down on top of content hover widget\n            this._hoverState.contentHoverFocused = true;\n            return;\n        }\n        if (target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */ && target.detail === MarginHoverWidget.ID) {\n            // mouse down on top of margin hover widget\n            return;\n        }\n        if (target.type !== 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n            this._hoverState.contentHoverFocused = false;\n        }\n        if ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) {\n            return;\n        }\n        this._hideWidgets();\n    }\n    _onEditorMouseUp() {\n        this._hoverState.mouseDown = false;\n    }\n    _onEditorMouseLeave(mouseEvent) {\n        var _a, _b;\n        this._cancelScheduler();\n        const targetElement = (mouseEvent.event.browserEvent.relatedTarget);\n        if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.widget.isResizing) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.containsNode(targetElement))) {\n            // When the content widget is resizing\n            // When the mouse is inside hover widget\n            return;\n        }\n        if (_sticky) {\n            return;\n        }\n        this._hideWidgets();\n    }\n    _isMouseOverWidget(mouseEvent) {\n        var _a, _b, _c, _d, _e;\n        const target = mouseEvent.target;\n        const sticky = this._hoverSettings.sticky;\n        if (sticky\n            && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */\n            && target.detail === ContentHoverWidget.ID) {\n            // mouse moved on top of content hover widget\n            return true;\n        }\n        if (sticky\n            && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.containsNode((_b = mouseEvent.event.browserEvent.view) === null || _b === void 0 ? void 0 : _b.document.activeElement))\n            && !((_d = (_c = mouseEvent.event.browserEvent.view) === null || _c === void 0 ? void 0 : _c.getSelection()) === null || _d === void 0 ? void 0 : _d.isCollapsed)) {\n            // selected text within content hover widget\n            return true;\n        }\n        if (!sticky\n            && target.type === 9 /* MouseTargetType.CONTENT_WIDGET */\n            && target.detail === ContentHoverWidget.ID\n            && ((_e = this._contentWidget) === null || _e === void 0 ? void 0 : _e.isColorPickerVisible)) {\n            // though the hover is not sticky, the color picker is sticky\n            return true;\n        }\n        if (sticky\n            && target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */\n            && target.detail === MarginHoverWidget.ID) {\n            // mouse moved on top of overlay hover widget\n            return true;\n        }\n        return false;\n    }\n    _onEditorMouseMove(mouseEvent) {\n        var _a, _b, _c, _d;\n        this._mouseMoveEvent = mouseEvent;\n        if (((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isFocused) || ((_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.isResizing)) {\n            return;\n        }\n        if (this._hoverState.mouseDown && this._hoverState.contentHoverFocused) {\n            return;\n        }\n        const sticky = this._hoverSettings.sticky;\n        if (sticky && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isVisibleFromKeyboard)) {\n            // Sticky mode is on and the hover has been shown via keyboard\n            // so moving the mouse has no effect\n            return;\n        }\n        const mouseIsOverWidget = this._isMouseOverWidget(mouseEvent);\n        // If the mouse is over the widget and the hiding timeout is defined, then cancel it\n        if (mouseIsOverWidget) {\n            this._reactToEditorMouseMoveRunner.cancel();\n            return;\n        }\n        // If the mouse is not over the widget, and if sticky is on,\n        // then give it a grace period before reacting to the mouse event\n        const hidingDelay = this._hoverSettings.hidingDelay;\n        if (((_d = this._contentWidget) === null || _d === void 0 ? void 0 : _d.isVisible) && sticky && hidingDelay > 0) {\n            if (!this._reactToEditorMouseMoveRunner.isScheduled()) {\n                this._reactToEditorMouseMoveRunner.schedule(hidingDelay);\n            }\n            return;\n        }\n        this._reactToEditorMouseMove(mouseEvent);\n    }\n    _reactToEditorMouseMove(mouseEvent) {\n        var _a, _b, _c, _d;\n        if (!mouseEvent) {\n            return;\n        }\n        const target = mouseEvent.target;\n        const mouseOnDecorator = (_a = target.element) === null || _a === void 0 ? void 0 : _a.classList.contains('colorpicker-color-decoration');\n        const decoratorActivatedOn = this._editor.getOption(146 /* EditorOption.colorDecoratorsActivatedOn */);\n        const enabled = this._hoverSettings.enabled;\n        const activatedByDecoratorClick = this._hoverState.activatedByDecoratorClick;\n        if ((mouseOnDecorator && ((decoratorActivatedOn === 'click' && !activatedByDecoratorClick) ||\n            (decoratorActivatedOn === 'hover' && !enabled && !_sticky) ||\n            (decoratorActivatedOn === 'clickAndHover' && !enabled && !activatedByDecoratorClick))) || (!mouseOnDecorator && !enabled && !activatedByDecoratorClick)) {\n            this._hideWidgets();\n            return;\n        }\n        const contentWidget = this._getOrCreateContentWidget();\n        if (contentWidget.showsOrWillShow(mouseEvent)) {\n            (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n            return;\n        }\n        if (target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ && target.position && target.detail.glyphMarginLane) {\n            (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n            const glyphWidget = this._getOrCreateGlyphWidget();\n            glyphWidget.startShowingAt(target.position.lineNumber, target.detail.glyphMarginLane);\n            return;\n        }\n        if (target.type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */ && target.position) {\n            (_d = this._contentWidget) === null || _d === void 0 ? void 0 : _d.hide();\n            const glyphWidget = this._getOrCreateGlyphWidget();\n            glyphWidget.startShowingAt(target.position.lineNumber, 'lineNo');\n            return;\n        }\n        if (_sticky) {\n            return;\n        }\n        this._hideWidgets();\n    }\n    _onKeyDown(e) {\n        var _a;\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const resolvedKeyboardEvent = this._keybindingService.softDispatch(e, this._editor.getDomNode());\n        // If the beginning of a multi-chord keybinding is pressed,\n        // or the command aims to focus the hover,\n        // set the variable to true, otherwise false\n        const mightTriggerFocus = (resolvedKeyboardEvent.kind === 1 /* ResultKind.MoreChordsNeeded */ ||\n            (resolvedKeyboardEvent.kind === 2 /* ResultKind.KbFound */\n                && resolvedKeyboardEvent.commandId === 'editor.action.showHover'\n                && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible)));\n        if (e.keyCode === 5 /* KeyCode.Ctrl */\n            || e.keyCode === 6 /* KeyCode.Alt */\n            || e.keyCode === 57 /* KeyCode.Meta */\n            || e.keyCode === 4 /* KeyCode.Shift */\n            || mightTriggerFocus) {\n            // Do not hide hover when a modifier key is pressed\n            return;\n        }\n        this._hideWidgets();\n    }\n    _hideWidgets() {\n        var _a, _b, _c;\n        if (_sticky) {\n            return;\n        }\n        if ((this._hoverState.mouseDown\n            && this._hoverState.contentHoverFocused\n            && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible))\n            || InlineSuggestionHintsContentWidget.dropDownVisible) {\n            return;\n        }\n        this._hoverState.activatedByDecoratorClick = false;\n        this._hoverState.contentHoverFocused = false;\n        (_b = this._glyphWidget) === null || _b === void 0 ? void 0 : _b.hide();\n        (_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.hide();\n    }\n    _getOrCreateContentWidget() {\n        if (!this._contentWidget) {\n            this._contentWidget = this._instantiationService.createInstance(ContentHoverController, this._editor);\n        }\n        return this._contentWidget;\n    }\n    _getOrCreateGlyphWidget() {\n        if (!this._glyphWidget) {\n            this._glyphWidget = new MarginHoverWidget(this._editor, this._languageService, this._openerService);\n        }\n        return this._glyphWidget;\n    }\n    showContentHover(range, mode, source, focus, activatedByColorDecoratorClick = false) {\n        this._hoverState.activatedByDecoratorClick = activatedByColorDecoratorClick;\n        this._getOrCreateContentWidget().startShowingAtRange(range, mode, source, focus);\n    }\n    focus() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    scrollUp() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollUp();\n    }\n    scrollDown() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollDown();\n    }\n    scrollLeft() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollLeft();\n    }\n    scrollRight() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.scrollRight();\n    }\n    pageUp() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageUp();\n    }\n    pageDown() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.pageDown();\n    }\n    goToTop() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToTop();\n    }\n    goToBottom() {\n        var _a;\n        (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.goToBottom();\n    }\n    get isColorPickerVisible() {\n        var _a;\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible;\n    }\n    get isHoverVisible() {\n        var _a;\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isVisible;\n    }\n    dispose() {\n        var _a, _b;\n        super.dispose();\n        this._unhookListeners();\n        this._listenersStore.dispose();\n        (_a = this._glyphWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._contentWidget) === null || _b === void 0 ? void 0 : _b.dispose();\n    }\n};\nHoverController.ID = 'editor.contrib.hover';\nHoverController = HoverController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IOpenerService),\n    __param(3, ILanguageService),\n    __param(4, IKeybindingService)\n], HoverController);\nexport { HoverController };\nvar HoverFocusBehavior;\n(function (HoverFocusBehavior) {\n    HoverFocusBehavior[\"NoAutoFocus\"] = \"noAutoFocus\";\n    HoverFocusBehavior[\"FocusIfVisible\"] = \"focusIfVisible\";\n    HoverFocusBehavior[\"AutoFocusImmediately\"] = \"autoFocusImmediately\";\n})(HoverFocusBehavior || (HoverFocusBehavior = {}));\nclass ShowOrFocusHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showHover',\n            label: nls.localize({\n                key: 'showOrFocusHover',\n                comment: [\n                    'Label for action that will trigger the showing/focusing of a hover in the editor.',\n                    'If the hover is not visible, it will show the hover.',\n                    'This allows for users to show the hover without using the mouse.'\n                ]\n            }, \"Show or Focus Hover\"),\n            metadata: {\n                description: `Show or Focus Hover`,\n                args: [{\n                        name: 'args',\n                        schema: {\n                            type: 'object',\n                            properties: {\n                                'focus': {\n                                    description: 'Controls if and when the hover should take focus upon being triggered by this action.',\n                                    enum: [HoverFocusBehavior.NoAutoFocus, HoverFocusBehavior.FocusIfVisible, HoverFocusBehavior.AutoFocusImmediately],\n                                    enumDescriptions: [\n                                        nls.localize('showOrFocusHover.focus.noAutoFocus', 'The hover will not automatically take focus.'),\n                                        nls.localize('showOrFocusHover.focus.focusIfVisible', 'The hover will take focus only if it is already visible.'),\n                                        nls.localize('showOrFocusHover.focus.autoFocusImmediately', 'The hover will automatically take focus when it appears.'),\n                                    ],\n                                    default: HoverFocusBehavior.FocusIfVisible,\n                                }\n                            },\n                        }\n                    }]\n            },\n            alias: 'Show or Focus Hover',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 39 /* KeyCode.KeyI */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        const focusArgument = args === null || args === void 0 ? void 0 : args.focus;\n        let focusOption = HoverFocusBehavior.FocusIfVisible;\n        if (Object.values(HoverFocusBehavior).includes(focusArgument)) {\n            focusOption = focusArgument;\n        }\n        else if (typeof focusArgument === 'boolean' && focusArgument) {\n            focusOption = HoverFocusBehavior.AutoFocusImmediately;\n        }\n        const showContentHover = (focus) => {\n            const position = editor.getPosition();\n            const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n            controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, focus);\n        };\n        const accessibilitySupportEnabled = editor.getOption(2 /* EditorOption.accessibilitySupport */) === 2 /* AccessibilitySupport.Enabled */;\n        if (controller.isHoverVisible) {\n            if (focusOption !== HoverFocusBehavior.NoAutoFocus) {\n                controller.focus();\n            }\n            else {\n                showContentHover(accessibilitySupportEnabled);\n            }\n        }\n        else {\n            showContentHover(accessibilitySupportEnabled || focusOption === HoverFocusBehavior.AutoFocusImmediately);\n        }\n    }\n}\nclass ShowDefinitionPreviewHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showDefinitionPreviewHover',\n            label: nls.localize({\n                key: 'showDefinitionPreviewHover',\n                comment: [\n                    'Label for action that will trigger the showing of definition preview hover in the editor.',\n                    'This allows for users to show the definition preview hover without using the mouse.'\n                ]\n            }, \"Show Definition Preview Hover\"),\n            alias: 'Show Definition Preview Hover',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        const position = editor.getPosition();\n        if (!position) {\n            return;\n        }\n        const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n        const goto = GotoDefinitionAtPositionEditorContribution.get(editor);\n        if (!goto) {\n            return;\n        }\n        const promise = goto.startFindDefinitionFromCursor(position);\n        promise.then(() => {\n            controller.showContentHover(range, 1 /* HoverStartMode.Immediate */, 1 /* HoverStartSource.Keyboard */, true);\n        });\n    }\n}\nclass ScrollUpHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollUpHover',\n            label: nls.localize({\n                key: 'scrollUpHover',\n                comment: [\n                    'Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Up Hover\"),\n            alias: 'Scroll Up Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 16 /* KeyCode.UpArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollUp();\n    }\n}\nclass ScrollDownHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollDownHover',\n            label: nls.localize({\n                key: 'scrollDownHover',\n                comment: [\n                    'Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Down Hover\"),\n            alias: 'Scroll Down Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 18 /* KeyCode.DownArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollDown();\n    }\n}\nclass ScrollLeftHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollLeftHover',\n            label: nls.localize({\n                key: 'scrollLeftHover',\n                comment: [\n                    'Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Left Hover\"),\n            alias: 'Scroll Left Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 15 /* KeyCode.LeftArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollLeft();\n    }\n}\nclass ScrollRightHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.scrollRightHover',\n            label: nls.localize({\n                key: 'scrollRightHover',\n                comment: [\n                    'Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused.'\n                ]\n            }, \"Scroll Right Hover\"),\n            alias: 'Scroll Right Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 17 /* KeyCode.RightArrow */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.scrollRight();\n    }\n}\nclass PageUpHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.pageUpHover',\n            label: nls.localize({\n                key: 'pageUpHover',\n                comment: [\n                    'Action that allows to page up in the hover widget with the page up command when the hover widget is focused.'\n                ]\n            }, \"Page Up Hover\"),\n            alias: 'Page Up Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 11 /* KeyCode.PageUp */,\n                secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.pageUp();\n    }\n}\nclass PageDownHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.pageDownHover',\n            label: nls.localize({\n                key: 'pageDownHover',\n                comment: [\n                    'Action that allows to page down in the hover widget with the page down command when the hover widget is focused.'\n                ]\n            }, \"Page Down Hover\"),\n            alias: 'Page Down Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 12 /* KeyCode.PageDown */,\n                secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.pageDown();\n    }\n}\nclass GoToTopHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.goToTopHover',\n            label: nls.localize({\n                key: 'goToTopHover',\n                comment: [\n                    'Action that allows to go to the top of the hover widget with the home command when the hover widget is focused.'\n                ]\n            }, \"Go To Top Hover\"),\n            alias: 'Go To Bottom Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 14 /* KeyCode.Home */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.goToTop();\n    }\n}\nclass GoToBottomHoverAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.goToBottomHover',\n            label: nls.localize({\n                key: 'goToBottomHover',\n                comment: [\n                    'Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused.'\n                ]\n            }, \"Go To Bottom Hover\"),\n            alias: 'Go To Bottom Hover',\n            precondition: EditorContextKeys.hoverFocused,\n            kbOpts: {\n                kbExpr: EditorContextKeys.hoverFocused,\n                primary: 13 /* KeyCode.End */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */],\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = HoverController.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.goToBottom();\n    }\n}\nregisterEditorContribution(HoverController.ID, HoverController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(ShowOrFocusHoverAction);\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\nregisterEditorAction(ScrollUpHoverAction);\nregisterEditorAction(ScrollDownHoverAction);\nregisterEditorAction(ScrollLeftHoverAction);\nregisterEditorAction(ScrollRightHoverAction);\nregisterEditorAction(PageUpHoverAction);\nregisterEditorAction(PageDownHoverAction);\nregisterEditorAction(GoToTopHoverAction);\nregisterEditorAction(GoToBottomHoverAction);\nHoverParticipantRegistry.register(MarkdownHoverParticipant);\nHoverParticipantRegistry.register(MarkerHoverParticipant);\n// theming\nregisterThemingParticipant((theme, collector) => {\n    const hoverBorder = theme.getColor(editorHoverBorder);\n    if (hoverBorder) {\n        collector.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n        collector.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);\n        collector.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${hoverBorder.transparent(0.5)}; }`);\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}