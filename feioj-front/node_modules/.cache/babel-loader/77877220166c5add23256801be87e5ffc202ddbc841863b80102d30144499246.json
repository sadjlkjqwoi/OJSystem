{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { reverseOrder, compareBy, numberComparator } from '../../../../base/common/arrays.js';\nimport { observableValue, observableSignalFromEvent, autorunWithStore } from '../../../../base/common/observable.js';\nimport { HideUnchangedRegionsFeature } from '../../../browser/widget/diffEditor/features/hideUnchangedRegionsFeature.js';\nimport { DisposableCancellationTokenSource } from '../../../browser/widget/diffEditor/utils.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { IOutlineModelService } from '../../documentSymbols/browser/outlineModel.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Event } from '../../../../base/common/event.js';\nlet DiffEditorBreadcrumbsSource = class DiffEditorBreadcrumbsSource extends Disposable {\n  constructor(_textModel, _languageFeaturesService, _outlineModelService) {\n    super();\n    this._textModel = _textModel;\n    this._languageFeaturesService = _languageFeaturesService;\n    this._outlineModelService = _outlineModelService;\n    this._currentModel = observableValue(this, undefined);\n    const documentSymbolProviderChanged = observableSignalFromEvent('documentSymbolProvider.onDidChange', this._languageFeaturesService.documentSymbolProvider.onDidChange);\n    const textModelChanged = observableSignalFromEvent('_textModel.onDidChangeContent', Event.debounce(e => this._textModel.onDidChangeContent(e), () => undefined, 100));\n    this._register(autorunWithStore(async (reader, store) => {\n      documentSymbolProviderChanged.read(reader);\n      textModelChanged.read(reader);\n      const src = store.add(new DisposableCancellationTokenSource());\n      const model = await this._outlineModelService.getOrCreate(this._textModel, src.token);\n      if (store.isDisposed) {\n        return;\n      }\n      this._currentModel.set(model, undefined);\n    }));\n  }\n  getBreadcrumbItems(startRange, reader) {\n    const m = this._currentModel.read(reader);\n    if (!m) {\n      return [];\n    }\n    const symbols = m.asListOfDocumentSymbols().filter(s => startRange.contains(s.range.startLineNumber) && !startRange.contains(s.range.endLineNumber));\n    symbols.sort(reverseOrder(compareBy(s => s.range.endLineNumber - s.range.startLineNumber, numberComparator)));\n    return symbols.map(s => ({\n      name: s.name,\n      kind: s.kind,\n      startLineNumber: s.range.startLineNumber\n    }));\n  }\n};\nDiffEditorBreadcrumbsSource = __decorate([__param(1, ILanguageFeaturesService), __param(2, IOutlineModelService)], DiffEditorBreadcrumbsSource);\nHideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((textModel, instantiationService) => {\n  return instantiationService.createInstance(DiffEditorBreadcrumbsSource, textModel);\n});","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","reverseOrder","compareBy","numberComparator","observableValue","observableSignalFromEvent","autorunWithStore","HideUnchangedRegionsFeature","DisposableCancellationTokenSource","ILanguageFeaturesService","IOutlineModelService","Disposable","Event","DiffEditorBreadcrumbsSource","constructor","_textModel","_languageFeaturesService","_outlineModelService","_currentModel","undefined","documentSymbolProviderChanged","documentSymbolProvider","onDidChange","textModelChanged","debounce","e","onDidChangeContent","_register","reader","store","read","src","add","model","getOrCreate","token","isDisposed","set","getBreadcrumbItems","startRange","m","symbols","asListOfDocumentSymbols","filter","s","contains","range","startLineNumber","endLineNumber","sort","map","name","kind","setBreadcrumbsSourceFactory","textModel","instantiationService","createInstance"],"sources":["D:/PersonalFiles/yupi/OJSystem/OJSystem/feioj-front/node_modules/monaco-editor/esm/vs/editor/contrib/diffEditorBreadcrumbs/browser/contribution.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { reverseOrder, compareBy, numberComparator } from '../../../../base/common/arrays.js';\nimport { observableValue, observableSignalFromEvent, autorunWithStore } from '../../../../base/common/observable.js';\nimport { HideUnchangedRegionsFeature } from '../../../browser/widget/diffEditor/features/hideUnchangedRegionsFeature.js';\nimport { DisposableCancellationTokenSource } from '../../../browser/widget/diffEditor/utils.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { IOutlineModelService } from '../../documentSymbols/browser/outlineModel.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Event } from '../../../../base/common/event.js';\nlet DiffEditorBreadcrumbsSource = class DiffEditorBreadcrumbsSource extends Disposable {\n    constructor(_textModel, _languageFeaturesService, _outlineModelService) {\n        super();\n        this._textModel = _textModel;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._outlineModelService = _outlineModelService;\n        this._currentModel = observableValue(this, undefined);\n        const documentSymbolProviderChanged = observableSignalFromEvent('documentSymbolProvider.onDidChange', this._languageFeaturesService.documentSymbolProvider.onDidChange);\n        const textModelChanged = observableSignalFromEvent('_textModel.onDidChangeContent', Event.debounce(e => this._textModel.onDidChangeContent(e), () => undefined, 100));\n        this._register(autorunWithStore(async (reader, store) => {\n            documentSymbolProviderChanged.read(reader);\n            textModelChanged.read(reader);\n            const src = store.add(new DisposableCancellationTokenSource());\n            const model = await this._outlineModelService.getOrCreate(this._textModel, src.token);\n            if (store.isDisposed) {\n                return;\n            }\n            this._currentModel.set(model, undefined);\n        }));\n    }\n    getBreadcrumbItems(startRange, reader) {\n        const m = this._currentModel.read(reader);\n        if (!m) {\n            return [];\n        }\n        const symbols = m.asListOfDocumentSymbols()\n            .filter(s => startRange.contains(s.range.startLineNumber) && !startRange.contains(s.range.endLineNumber));\n        symbols.sort(reverseOrder(compareBy(s => s.range.endLineNumber - s.range.startLineNumber, numberComparator)));\n        return symbols.map(s => ({ name: s.name, kind: s.kind, startLineNumber: s.range.startLineNumber }));\n    }\n};\nDiffEditorBreadcrumbsSource = __decorate([\n    __param(1, ILanguageFeaturesService),\n    __param(2, IOutlineModelService)\n], DiffEditorBreadcrumbsSource);\nHideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((textModel, instantiationService) => {\n    return instantiationService.createInstance(DiffEditorBreadcrumbsSource, textModel);\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}